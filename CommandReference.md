
利用可能なコマンド
=======================================================

デフォルトでは以下のコマンドを利用できます。


システムコマンドの実行
-------------------------------------------------------

* ``System``: システムのコマンドを実行します。

  |各項目    |名前/番号  |説明                                     |
  |:---------|:----------|:----------------------------------------|
  |オプション|``command``|実行するコマンドのテキスト。             |
  |          |``showerr``|標準エラー出力を表示する場合は ``True``。|
  |入力      |1          |コマンドの標準入力に与えるテキスト。     |
  |出力      |1          |コマンドの標準出力の格納先。             |


ファイル入出力
-------------------------------------------------------

* ``Read``: ファイルを1行ずつ読み込みます。

  |各項目    |名前/番号  |説明                                     |
  |:---------|:----------|:----------------------------------------|
  |オプション|``file``   |読み込むファイルのパス。                 |
  |入力      |なし       |                                         |
  |出力      |1          |ファイルの各行の格納先。                 |

* ``Write``: ファイルに1行ずつ書き出します。

  |各項目    |名前/番号  |説明                                     |
  |:---------|:----------|:----------------------------------------|
  |オプション|``file``   |書き出し先のパス。                       |
  |入力      |1          |書き出す内容。                           |
  |出力      |なし       |                                         |


生成器
-------------------------------------------------------

* ``Echo``: 指定した文字列を繰り返し出力します。

  |各項目    |名前/番号  |説明                                     |
  |:---------|:----------|:----------------------------------------|
  |オプション|``count``  |出力する回数。                           |
  |オプション|``text``   |出力する文字列。                         |
  |入力      |1          |入力の末尾になるまで文字列を繰り返し出力します。(countが指定された場合は無し) |
  |出力      |1          |文字列の出力先。                         |

* ``Seq``: 0から始まり、指定した値まで1刻みの数列を出力します。

  |各項目    |名前/番号  |説明                                     |
  |:---------|:----------|:----------------------------------------|
  |オプション|``stop``   |数列の上限。                             |
  |入力      |1          |入力の末尾になるまで数列を出力します。(stopが指定された場合は無し) |
  |出力      |1          |数列の出力先。                           |

* ``Random``: 乱数を繰り返し出力します。

  |各項目    |名前/番号  |説明                                     |
  |:---------|:----------|:----------------------------------------|
  |オプション|``count``  |出力する回数。                           |
  |入力      |1          |入力の末尾になるまで乱数を繰り返し出力します。(countが指定された場合は無し) |
  |出力      |1          |乱数の出力先。                           |


BSDソケット
-------------------------------------------------------

いくつかのソケット関連のコマンドは、入力として与えたソケットオブジェクトを出力側で書き出します。
ソケットで送受信を行う場合、ソケットオブジェクトに対して行う処理の順序が重要となる場合がありますが、各処理で同じソケットオブジェクト変数を利用した場合、それぞれの処理が並列に実行されてしまうため、意図しない結果となります。
その際に、前段で出力されたソケットを後段のコマンドで利用するようにすることで、後段のコマンドに処理の開始タイミングを通知できます。

* ``ListeningSocket``: 指定したIPアドレス・ポート番号で接続を待ち、接続される度にソケットオブジェクトを生成します。（IPv4）

  |各項目    |名前/番号  |説明                                     |
  |:---------|:----------|:----------------------------------------|
  |オプション|``ipaddr`` |待機するIPアドレス。                     |
  |          |``port``   |待機するポート番号。                     |
  |          |``backlog``|接続キューの長さ。（規定値: 1）          |
  |入力      |なし       |                                         |
  |出力      |1          |新しい接続に対するソケットオブジェクト。 |

* ``ShutdownSocketConnection``: ソケットの読み込みまたは書き出し方向の接続を閉じます。

  |各項目    |名前/番号  |説明                                     |
  |:---------|:----------|:----------------------------------------|
  |オプション|``how``    |読み込み ``r`` または書き出し ``w`` または両方向 ``rw`` の指定。|
  |入力      |1          |ソケットオブジェクト。                   |
  |出力      |1          |ソケットオブジェクト。                   |

* ``CloseSocketConnection``: ソケットを閉じます。

  |各項目    |名前/番号  |説明                                     |
  |:---------|:----------|:----------------------------------------|
  |オプション|なし       |                                         |
  |入力      |1          |ソケットオブジェクト。                   |
  |出力      |なし       |                                         |

* ``SocketReceiveData``: ソケットを使ってデータを受信します。

  |各項目    |名前/番号  |説明                                     |
  |:---------|:----------|:----------------------------------------|
  |オプション|``size``   |受信する最大バイト数。                   |
  |          |``decode`` |受信したバイトコードを文字列にデコードする場合は文字コードを指定します。|
  |入力      |1          |ソケットオブジェクト。                   |
  |出力      |1          |ソケットオブジェクト。                   |
  |          |2          |受信したデータ。                         |

* ``SocketSendData``: ソケットを使ってデータを送信します。

  |各項目    |名前/番号  |説明                                     |
  |:---------|:----------|:----------------------------------------|
  |オプション|``decode`` |送信するデータをバイトコードにエンコードする場合は文字コードを指定します。|
  |入力      |1          |ソケットオブジェクト。                   |
  |          |2          |送信するデータ。                         |
  |出力      |1          |ソケットオブジェクト。                   |


デバッグ
-------------------------------------------------------

* ``Watch``: プロンプトモードで ``watch`` コマンドが実行された際に、指定された入力を画面に表示します。

  |各項目    |名前/番号  |説明                                     |
  |:---------|:----------|:----------------------------------------|
  |オプション|``name``   |ウォッチの名前。                         |
  |入力      |1 ...      |ウォッチする入力を1つ以上指定します。   |
  |出力      |なし       |                                         |

* ``Log``: ファイルにログを書き出します。``Write`` と異なり、複数の変数を一度に出力できます。ファイルは追記モードで開かれます。

  |各項目    |名前/番号  |説明                                     |
  |:---------|:----------|:----------------------------------------|
  |オプション|``file``   |書き出し先のパス。                       |
  |          |``tags``   |各入力に与える名前を``;``で区切って指定します。|
  |入力      |1 ...      |書き出す変数を1つ以上指定します。        |
  |出力      |なし       |                                         |
